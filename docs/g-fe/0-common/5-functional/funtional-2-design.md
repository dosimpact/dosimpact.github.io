---
sidebar_position: 2
---

# 함수형 코딩 #2

- [함수형 코딩 #2](#함수형-코딩-2)
  - [챕터 8, 계층형 설계 1](#챕터-8-계층형-설계-1)

함수형 코딩, 에릭 노먼드
- https://ebook-product.kyobobook.co.kr/dig/epd/ebook/E000002993446  


## 챕터 8, 계층형 설계 1  

계층형 설계란 ?   
- 테스트, 재사용, 유지보수가 용이하도록 소프트웨어 코드를 Layer로 쌓아올리는 설계  
- 원칙 1, 계층형 설계에서 의존성 방향은 위에서 아래로 향한다. 즉, 동일 계층에서의 함수들을 서로 참조하지 않는다. 만약 그런경우라면 더 추상화가 가능하다.  
- 원칙 2, 코드가 읽기 어려운 이유는 여러 계층이 섞여있어서 그렇다. 아래의 예시의 계층을 보자.  
  - 장바구니 비즈니스 규칙      - Top
  - 일반 비즈니스 규칙  
  - 장바구니 기본 동작
  - 제품 기본 동작
  - 함수형 유틸  
  - javascript 언어 기능    - Bottom
  - * 동일한 계층의 함수들은 하위 계층의 함수들을 이용해서 구현한다. 동일 계층을 서로 참조하지 않는다. 여러 수준의 함수로 구현되었다면 코드스멜이다.  

계층형 설계의 4가지 패턴  
- 1, 직접구현 : 최상위 계층이 최하위 계층을 참조한다면 코드스멜이다. 적절한 만큼의 하위 계층을 참조해야 한다.   
- 2, 추상화 벽 :
- 3, 작은 인터페이스  
- 4, 편리한 계층  

좋은 설계인지 판단하고 직관 키우는 방법  
- 호출 그래프로 정리해본다.  
- 그리고 각 계층에 범주를 정의해서 모든 계층에 적절한 함수가 있는지 확인한다.  
- 호출 그래프에서의 의존성 방향이 위 원칙에서 벗어나는지 확인한다.  
- 완벽한 정답은 없다만, 계층 구조를 탄탄히 만들어가는 점진적 과정에서 직관이 키워진다.  


리액트에서 계층 구조 생각하기  
- View Binder : 뷰에 필요한 데이터 변형  
- View: 화면단에서 이벤트 처리 수준  
- View: 디자인 시스템 컴포넌트  
  - 토큰, 아톰, 컴포넌트, 패턴 
