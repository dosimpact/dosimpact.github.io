---
sidebar_position: 1
---
# DeepDiveÂ ë¸Œë¼ìš°ì €, ë¦¬ì•¡íŠ¸, Next ë Œë”ë§ ê³¼ì • - 2

## ëª©ì°¨  

1.ë¸Œë¼ìš°ì € ë Œë”ë§    
2.ë¦¬ì•¡íŠ¸ ë Œë”ë§, Next.jsì—ì„œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •  
3.Deep Dive - Next.jsì—ì„œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •  

---

## 2.ë¦¬ì•¡íŠ¸ ë Œë”ë§  

### ìš©ì–´

1.React Component  
- JSXë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜.  
- JSXëŠ” React.createElement í•¨ìˆ˜ë¡œ ë³€í™˜ëœë‹¤.    
- ë”°ë¼ì„œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” React Elementë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜.  

```js
function SecondChild(){
  const handleClick = useCallback(()=>{},[])
  return <div>SecondChild</div> // JSX
}
---
function SecondChild() {
  const handleClick = useCallback(() => {}, []);
  // JSX > createReactElement
  return /*#__PURE__*/ React.createElement("div", null, "SecondChild"); 
}
```
>https://babeljs.io/repl

![Alt text](image-4.png)

2.Virtual DOM    

V-DOMì€ ì¼ì¢…ì˜ í”„ë¡œê·¸ë˜ë° ì»¨ì…‰ì´ë‹¤.  
- ì¸ë©”ëª¨ë¦¬ ìƒì˜ ê°€ìƒì˜ ë‘  (React DOM)ì„ í•˜ë‚˜ ë„ìš´ë‹¤.   
  - ê°€ìƒì˜ ë‘ ì€ Double Buffering êµ¬ì¡° ì´ë‹¤. (prev tree, next tree 2ê°œê°€ ê³µì¡´)   
  - next treeëŠ” ë‹¤ìŒ ë Œë”ë§ì˜ ëª¨ì–‘ì„ ê·¸ë¦¬ë©° next treeê³¼ ë¹„êµí•˜ì—¬ ìµœì†Œí•œì˜ ë³€ê²½ì‚¬í•­ë§Œ ì²´í¬í•œë‹¤.   
- ê·¸ë¦¬ê³  ì‹¤ì œ DOMê³¼ Syncë¥¼ ë§ì¶˜ë‹¤. (ì´ë¥¼ ì¬ì¡°ì • Reconciliation ì´ë¼ê³  í•œë‹¤.)   
- (ë§¤ë²ˆ DOMì„ ë¦¬í˜ì¸íŒ… í•˜ëŠ”ê²ƒ ë³´ë‹¤ í›¨ì”¬ ë¹„ìš©ì´ ì‹¸ë‹¤.)  


#### ğŸ“Œ Double Buffering êµ¬ì¡°   

![alt](https://velog.velcdn.com/images/boyeon_jeong/post/5fb462bc-4ff3-471b-9fe3-4c60d5eeaf67/image.png)    

1.Current Tree
- ì‹¤ì œ DOMì— ë°˜ì˜ëœ(mount) fiber Node Tree ì´ë‹¤.    
- *fiber node = React Elementì— ì¶”ê°€ ê¸°ëŠ¥ì´ ë¶™ì–´ í™•ì¥ëœ ê°ì²´    

2.Work In Progress Tree (WIP Tree)
- Render Phaseì—ì„œ ì‘ì—…ì¤‘ì¸ fiber Node Treeì´ë‹¤.  
- Current node ì™€ alternate keyë¥¼ ì´ìš©í•´ì„œ ì„œë¡œ ì°¸ì¡°ë¥¼ í•˜ê³  ìˆë‹¤.  
- Commit Phaseê°€ ëë‚˜ë©´ Current Treeê°€ ëœë‹¤. 


### ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ê³¼ì •

- ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ê³¼ì • 1.Render Phaseì™€ 2. Commit Phase  
- Reconciliationì€ Reactì˜ Virtual DOMì—ì„œ ë°œìƒí•œ ë³€ê²½ì‚¬í•­ì„ Real DOMì— ë°˜ì˜í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸.  

1.Render Phase
- 1.Current Tree ê¸°ë°˜ìœ¼ë¡œ WIP Tree ìƒì„±
- 2.ì»´í¬ë„ŒíŠ¸ì˜ ë³€ê²½ ì‚¬í•­( ë¦¬ë Œë”ë§, ìƒˆë¡œìš´ ë¼ì´í”„ì‹¸ì´í´ )ì„ ê¸°ë°˜í•˜ì—¬ React Element ë°˜í™˜
- 3.React ElementëŠ” Fiber Node ë¡œ í™•ì¥ë˜ì–´ WIP Treeê°€ ì—…ë°ì´íŠ¸
- 4.diffing ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ë³€ê²½ëœ ë…¸ë“œë¥¼ ë§ˆí‚¹
    - *ReactëŠ” ì´ ê³¼ì •ì—ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” Concurrent Modeì—ì„œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•¨.    
    - *Scheduler(ìŠ¤ì¼€ì¤„ëŸ¬)ë¥¼ í†µí•´ ë Œë”ë§ ìˆœì„œë¥¼ ì¡°ì‘ ê°€ëŠ¥.
    - *useTransition í›…ì„ ì‚¬ìš©í•˜ë©´ ì‘ì—…ì„ ì§€ì—° ê°€ëŠ¥.    

2.Commit Phase

- Commit Phaseì—ì„œëŠ” Render Phaseì—ì„œ ë³€ê²½ëœ Virtual DOMì„ ì‹¤ì œë¡œ Real DOMì— ë°˜ì˜í•˜ëŠ” ë‹¨ê³„ì˜ˆìš”.
- ì´ ë‹¨ê³„ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ì‹¤ì œ DOM ì¡°ì‘, ë¸Œë¼ìš°ì €ì— UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì´ ì´ë£¨ì–´ì ¸ìš”.   
- 1.useLayoutEffect ë™ê¸°ì  ì‹¤í–‰
    - useLayoutEffect í›…ì´ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¼ìš”. ì´ í›…ì€ DOMì´ ì—…ë°ì´íŠ¸ëœ ì§í›„, í™”ë©´ì— ê·¸ë¦¬ê¸° ì „ì— ì‹¤í–‰ë˜ë¯€ë¡œ, DOM ì¡°ì‘ì´ í•„ìš”í•  ë•Œ ìœ ìš©í•´ìš”.
- 2.DOM ì—…ë°ì´íŠ¸ ë° Paint
    - ë³€ê²½ëœ Virtual DOMì˜ ë‚´ìš©ì„ Real DOMì— ë°˜ì˜í•´ìš”.
    - ë¸Œë¼ìš°ì €ëŠ” ì´ë•Œ DOMì„ Paint(í™”ë©´ì— ê·¸ë¦¬ê¸°) í•˜ë©°, UIì— ë³€ê²½ ì‚¬í•­ì´ ë°˜ì˜ë¼ìš”.
- 3.useEffect ë¹„ë™ê¸°ì  ì‹¤í–‰
    - useEffect í›…ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¼ìš”. ì´ í›…ì€ DOMì´ ì—…ë°ì´íŠ¸ë˜ê³ , í™”ë©´ì— ê·¸ë ¤ì§„ í›„ì— ì‹¤í–‰ë˜ë©°, ì£¼ë¡œ ë¹„ë™ê¸° ì‘ì—…ì´ë‚˜ ì„œë²„ í†µì‹ ì— ì‚¬ìš©ë¼ìš”.


![Alt text](image-3.png)
https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/

### diffing ì•Œê³ ë¦¬ì¦˜ ì‹œê°„ë³µì¡ë„  

ReactëŠ” ë‘ ê°€ì§€ ê°€ì •ì„ ê¸°ë°˜í•˜ì—¬ O(n) ë³µì¡ë„ì˜ íœ´ë¦¬ìŠ¤í‹± ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  
- 1.ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ì˜ ë‘ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ì„œë¡œ ë‹¤ë¥¸ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤. 
- 2.ê°œë°œìê°€ key propì„ í†µí•´, ì—¬ëŸ¬ ë Œë”ë§ ì‚¬ì´ì—ì„œ ì–´ë–¤ ìì‹ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ë³€ê²½ë˜ì§€ ì•Šì•„ì•¼ í• ì§€ í‘œì‹œí•´ ì¤„ ìˆ˜ ìˆë‹¤.   
  - *type, key ì˜ ë³€ê²½ => ì»´í¬ë„ŒíŠ¸ íŒŒê´´ í›„ ì¬ìƒì„±  


![Alt text](image-5.png)

### ë¦¬ë Œë”ë§ì´ë€?  
- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ í˜¸ì¶œë˜ëŠ” ê²ƒ   
- **ì»´í¬ë„ŒíŠ¸ ì¬ìƒì„±ê³¼ ë¦¬ë Œë”ë§ì„ í—·ê°ˆë¦¬ë©´ ì•ˆëœë‹¤.**  

ë¦¬ë Œë”ë§ì´ ë˜ëŠ” ì¡°ê±´  
- 1.state ê°€ ë³€ê²½  
- 2.props ê°€ ë³€ê²½  

ì»´í¬ë„ŒíŠ¸ ì¬ìƒì„±ì˜ ì¡°ê±´
- 1.Component type ë³€ê²½
- 2.key props ë³€ê²½
- 3.ì¡°ê±´ë¶€ ëœë”ë§ (if, && ì‚¬ìš©) 
  - *ê¸°ì¡´ ìƒíƒœê°€ ìœ ì§€ëœë‹¤ë©´ ë¦¬ë Œë”ë§ ì´ë‹¤.
  - *ì¬ìƒì„±ì€ í›¨ì”¬ ë” ë¹„ì‹¼ ë¹„ìš©ì´ë‹¤. ë¦¬ë Œë”ë§ì„ ì´ìš©í•˜ì.    

### RenderPhase, CommitPhase Counter

```js
import React, { useRef, useEffect } from 'react';

function RenderCounterComponent() {
  const renderCount = useRef(0);
  const commitCount = useRef(0);

  renderCount.current += 1;
  console.log(`ëœë” íšŸìˆ˜: ${renderCount.current}`);

  useLayoutEffect(() => {
    commitCount.current += 1;
    console.log(`ì»¤ë°‹ íšŸìˆ˜: ${commitCount.current}`);
  });

  return (
    <div>
      <p>ì´ ì»´í¬ë„ŒíŠ¸ëŠ” {renderCount.current}ë²ˆ ë Œë”ë§ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    </div>
  );
}

export default RenderCounterComponent;

```

## ë¦¬ì•¡íŠ¸ ì¬ìƒì„± ìµœì í™”

### 1.ì¡°ê±´ë¶€ ë Œë”ë§ì—ì„œ ìˆ¨ê¹€ì²˜ë¦¬ë¡œ

- &&, if ëŒ€ì‹  display:none

### 2.ì»´í¬ë„ŒíŠ¸ í‚¤ ê´€ë¦¬

- ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœì™€ ì—°ê´€ìˆëŠ” key ì‚¬ìš©
- *ë°°ì—´ì˜ idxë¡œ keyë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì€ ì§€ì–‘.  


## ë¦¬ì•¡íŠ¸ ë Œë”ë§ ìµœì í™”  

ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ì¤„ì´ê¸°  

### 1.React.memo
- Render Phase ë§‰ëŠ”ê²ƒì´ ëª©ì   
- React.memo : ì–•ì€ ë¹„êµë¥¼ ì‚¬ìš©í•´ì„œ props ë¹„êµ 
- *ìœ„ ì–•ì€ë¹„êµì—ì„œ ê°ì²´ì˜ ê²½ìš° useMemo, í•¨ìˆ˜ì˜ ê²½ìš° useCallback ìœ¼ë¡œ ë™ì¼ ì°¸ì¡°ê°’ ì²˜ë¦¬ í•„ìš”.  


### 2.useCallback  

```js
const Case01 = () => {
  const handler = () => {};

  return (
    <div>
      <Second handler={handler} />
    </div>
  );
};
```
- ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë©´ í•¸ë“¤ëŸ¬í•¨ìˆ˜ë„ ë‹¤ì‹œ ë§Œë“¤ì–´ì§„ë‹¤.      
- handler í•¨ìˆ˜ë¥¼ useCallback ìœ¼ë¡œ ê°ì‹¸ ë™ì¼í•œ ì°¸ì¡°ê°’ì„ ë§Œë“¤ì–´ ì¤€ë‹¤.    
- ì—¬ì „íˆ ë¦¬ë Œë”ë§ì´ ëœë‹¤. 
- ê·¸ëŸ¬ë‚˜ Commit Phaseì—ì„œ ì¬ì¡°ì •ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤.
  - ( í™•ì¸ ê°€ëŠ¥í•œ ë°©ë²•ì€ ìˆëŠ”ì§€ ëª¨ë¥´ê² ë‹¤. )   

### 3.useMemo
- ê°ì²´ ì°¸ì¡°ëŠ” useMemo ì„ ì´ìš©í•´ì„œ ì°¸ì¡°ê°’ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.  
- React.memoì—ì„œ ì–•ì€ë¹„êµë¡œ Render Phaseë¥¼ Skip í•  ìˆ˜ ìˆë‹¤.    


### ë¬´ì‘ì • ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ì„ê¹Œ? 

![Alt text](image.png)  
1.React.memo ì—†ì´ ë¦¬ë Œë”ë§ ë°©ì§€í•˜ê¸°  
- ComponentëŠ” childrenë¥¼ í•©ì„±í•˜ê³  ìˆë‹¤. 
  - babel ê²°ê³¼ë¬¼ì„ ë³´ë©´ childrenì— createElement í•¨ìˆ˜ê°€ ì—†ë‹¤.
  - Component ë¦¬ëœë”ë§ì— ì˜í•´ ì˜ì¡´í•˜ì§€ ì•Šì•„ì„œ ë¦¬ë Œë”ë§ ê°œì„  ê°€ëŠ¥  
- ì´ ë°©ë²•ì„ Component Lifting-Up ì´ë¼ê³  ë¶€ë¥´ì.  

![Alt text](image-6.png)

2.ë¦¬ì•¡íŠ¸ ê´€ë¦¬ì—ì„œ ë²—ì–´ë‚˜ê¸°  
- uncontrolled formì„ ì‚¬ìš©í•˜ë©´ ë¦¬ë Œë”ë§ì´ í•„ìš”ì—†ì–´ì§„ë‹¤.  

--- 



---

## 3.Next.jsì—ì„œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •  

### ìš©ì–´

1.ì»´í¬ë„ŒíŠ¸(Component)ë€?  
- ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•œ ì‚¬ëŒì—ê²Œ ì»´í¬ë„ŒíŠ¸ë¼ê³  í•˜ë©´ ì¼ë°˜ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì´ë‹¤.  
- ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì›ë˜ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸(RCC) ê°œë…ë„ ì—†ì—ˆì§€ë§Œ, ì„œë²„ ì»´í¬ë„ŒíŠ¸(RSC) ê°œë…ì´ ë‚˜ì˜¤ë©´ì„œ êµ¬ë¶„ì§“ê¸° ìœ„í•´ ë‚˜ì™”ë‹¤.   
- í•˜ì§€ë§Œ Next.js ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.
  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì „í™˜ì€ `use client` ë””ë ‰í‹°ë¸Œë¥¼ ì‚¬ìš©í•œë‹¤.     
- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ : JSXë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.  
  - ì´ëŠ” propsë¥¼ ì¸ìë¡œ ë°›ê³ , ë‚´ë¶€ì—ëŠ” stateê°€ ì¡´ì¬í•œë‹¤.    

*ì´í•˜
- RCS: ë¦¬ì•¡íŠ¸ ì„œë²„ ì»´í¬ë„ŒíŠ¸  
- CCS: ë¦¬ì•¡íŠ¸ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸   


2.ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì´ë€?  

ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì€ V-DOMì„ ê·¸ë¦¬ëŠ” ê³¼ì • ì´ë‹¤.  
- 2.1 JSXëŠ” íŠ¸ëœìŠ¤ íŒŒì¼ë§ì„ í†µí•´ (babel) React.createElement í•¨ìˆ˜ë¡œ ë³€ê²½ëœë‹¤.  
- 2.2 ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ëœë‹¤.  
- 2.3 ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ê°ì²´ì´ë©° DOMì„ ê·¸ë¦¬ê¸° ìœ„í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.  
  - 2.4 ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” Fiberë¡œ í™•ì¥ë˜ë©° ì´ê²ƒì€ V-DOMì„ êµ¬ì„±í•œë‹¤. 
  - ì´ê²ƒì´ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì´ë‹¤.  
  - 2.5 V-Domì€ diffing ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ì„œ R-DOMì— ë°˜ì˜ëœë‹¤.   

>https://nextjs.org/docs/app/building-your-application/rendering/server-components#how-are-server-components-rendered  

### Rendering Chunk  

Next.jsëŠ” ë Œë”ë§ì„ ì²­í¬ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬í•œë‹¤.  
- Next.jsëŠ” Reactì˜ APIë¥¼ ì‚¬ìš©í•´ì„œ ë Œë”ë§ì„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í•˜ëŠ” ë©”íƒ€ í”„ë ˆì„ì›Œí¬  

1.Route Segment Boundaries   
- Chunk ë‹¨ìœ„ë¡œ split ë˜ì–´ ë Œë”ë§. (individual route segments)  
![alt](https://nextjs.org/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Fdark%2Floading-special-file.png&w=3840&q=75)
- app Routerì˜ loading, error ì»´í¬ë„ŒíŠ¸ê°€ ê´€ì—¬.  
  - ë Œë”ë§ ì „ : loading component
  - ë Œë”ë§ ì™„ë£Œ : page component
  - ë Œë”ë§ ì˜¤ë¥˜ : error


2.Suspense Boundaries   
- Suspense ê²½ê³„ > chunkë‹¨ìœ„ë¡œ split ë˜ì–´ ë Œë”ë§. 

![alt](https://nextjs.org/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Fdark%2Fserver-rendering-with-streaming.png&w=3840&q=75)
```js
import { Suspense } from 'react'
import { PostFeed, Weather } from './Components'
 
export default function Posts() {
  return (
    <section>
      <Suspense fallback={<p>Loading feed...</p>}>
        <PostFeed />
      </Suspense>
      <Suspense fallback={<p>Loading weather...</p>}>
        <Weather />
      </Suspense>
    </section>
  )
}
```   

### Next.jsì˜ ë Œë”ë§ 5ë‹¨ê³„    

### 1~2 : ì„œë²„ì—ì„œ ì¼ì–´ë‚˜ëŠ” ê³¼ì •  

1.RSC > RSC Payload
- ReactëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ React ì„œë²„ ì»´í¬ë„ŒíŠ¸ í˜ì´ë¡œë“œ(RSC Payload)ë¼ëŠ” íŠ¹ë³„í•œ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë Œë”ë§í•´ìš”.

React ì„œë²„ ì»´í¬ë„ŒíŠ¸ í˜ì´ë¡œë“œ(RSC)
- ë Œë”ë§ëœ React ì„œë²„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì••ì¶•ëœ ë°”ì´ë„ˆë¦¬ í‘œí˜„ì´ì—ìš”. 
- ì´ í˜ì´ë¡œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ Reactê°€ ë¸Œë¼ìš°ì €ì˜ DOMì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”. 
- RSC í˜ì´ë¡œë“œì—ëŠ” ë‹¤ìŒì´ í¬í•¨ë¼ìš”:
  - 1.RCS ë Œë”ë§ ê²°ê³¼
  - 2.Placeholders : CCSë¥¼ ë Œë”ë§í•´ì•¼ í•˜ëŠ” ìœ„ì¹˜ + í•´ë‹¹ JavaScript íŒŒì¼ì— ëŒ€í•œ references    
  - 3.ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬ëœ ëª¨ë“  props

2.HTML ë Œë”ë§ ê²°ê³¼ë¬¼ ì¶œë ¥  
- Next.jsëŠ” : RSC Payload + Client Component JavaScript instructions > ì„œë²„ì—ì„œ HTMLì„ ë Œë”ë§í•©ë‹ˆë‹¤.

### 3~5 : ë¸Œë¼ìš°ì €ì—ì„œ ì¼ì–´ë‚˜ëŠ” ê³¼ì •   

3.HTML Preview  
- ë¸Œë¼ìš°ì €ì—ì„œëŠ” SSRê³¼ì •ì—ì„œ ìƒì„±ëœ HTMLì„ ë°›ì•„ì„œ ì¦‰ì‹œ ë³´ì—¬ì¤€ë‹¤.  
- ì´ëŠ” fast but non-interactive preview ( ì´ˆê¸° í˜ì´ì§€ ë¡œë“œì—ë§Œ í•´ë‹¹, SEO ìœ ë¦¬ )     

4.RSC Payload -> Render Treeë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì • 

RSC Payload íŒŒì¼  
- 1, ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ê²°ê³¼
- 2, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ 'ì°¸ì¡°(Reference)' ë° ìœ„ì¹˜
- 3, ë°ì´í„° (Props)  
```js
1:I{"id":"./src/Button.js","chunks":["client0"],"name":"default"}
2:"User Data"
0:["$","div",null,{"children":[["$","h1",null,{"children":"Hello"}],["$","$L1",null,{"text":"Click Me"}]]}]
---
1:I...: "ID 1ë²ˆì€ ./src/Button.jsë¼ëŠ” í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì•¼." (ì°¸ì¡° ì •ì˜)
0:[...]: "ë£¨íŠ¸ íŠ¸ë¦¬ëŠ” divì´ê³ , ê·¸ ì•ˆì— h1('Hello')ì´ ìˆê³ , ê·¸ ë’¤ì— ID 1ë²ˆ ì»´í¬ë„ŒíŠ¸(ë²„íŠ¼)ë¥¼ ë Œë”ë§í•´."
```

RSC Payloadê°€ íŠ¸ë¦¬ë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì •  
- 1,Deserialization : í…ìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ React Element ê°ì²´ë¡œ ë³€í™˜
- 2,Client Component Resolution : Placeholderì— í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§ì¶˜ë‹¤.  
- 3,Reconciliation : ìµœì¢… React Render Tree ë§Œë“¤ê³  í›„ì†ìœ¼ë¡œ ì‹¤ì œ DOMì— ë°˜ì˜(hydration)í•œë‹¤.  
  - RCS Payload ë¥¼ í†µí•´ Client and Server Component treesì˜ Reconcile ì´ ì¼ì–´ë‚œë‹¤.  
  - Server Component trees ì—ëŠ” Placeholders ê°€ ì¡´ì¬í•œë‹¤.  
  - ì´ ìë¦¬ë¥¼ Client Componentê°€ ë“¤ì–´ê°€ë„ë¡ Reconcile(ì¡°ì •)ì´ ì¼ì–´ë‚œë‹¤.  
  - ìµœì¢…ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬=V-DOMì´ ë§Œë“¤ì–´ì§„ë‹¤.    

5.Hydrate  
- Hydrationì€ Real DOM(HTML Previewìœ¼ë¡œ ë¶€í„° ë§Œë“ )ê³¼ ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ì‹œ ë§Œë“  Reconciled Render Treeë¥¼ ë§¤í•‘í•˜ëŠ” ê³¼ì •ì´ë‹¤.  
- Hydrationì€ interactive ë§Œë“¤ê¸° ìœ„í•¨ì´ë‹¤.   
- Client Component JavaScript instructions ì´ ì‚¬ìš©ëœë‹¤.  
  - ê·¸ ì•ˆì—ëŠ” useState, Event Handler í•¨ìˆ˜ ë“±ì´ ìˆë‹¤.    
