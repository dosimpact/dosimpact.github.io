---
sidebar_position: 1
---


# 1.K8s Install


## 실습 환경  


colima



# Install  

```
# 1. Colima 설치
brew install colima

# 2. Docker CLI만 설치 (Docker Engine 없이)
brew install docker

# 3. Docker Compose 설치 (선택)
brew install docker-compose

# 4. Colima 시작 (확인용)
colima start

# 5. Docker 연결 확인
docker info
docker run hello-world

# 6. 자동 재시작 등록  
# - 참고로 초기 부팅시 docker 데몬이 올라가는데 시간이 좀 걸린다.   
brew services start colima 


```

좋아요! ✅ Colima + k3s 설치 직후 Kubernetes Dashboard 설정 과정을 깔끔하게 요약해줄게요.

⸻

🚀 Colima + k3s Dashboard 설정 요약

✅ 1️⃣ Dashboard 설치

kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml

	•	kubernetes-dashboard 네임스페이스 및 Pod, Service 자동 생성

⸻

✅ 2️⃣ Dashboard 서비스(NodePort로 열기)

kubectl patch svc kubernetes-dashboard -n kubernetes-dashboard \
  -p '{"spec":{"type":"NodePort","ports":[{"port":443,"targetPort":8443,"nodePort":32000}]}}'

	•	NodePort 32000으로 Dashboard 노출
	•	targetPort: 8443 (Pod의 HTTPS 포트)로 연결해야 함

⸻

✅ 3️⃣ 포트포워딩/접속 경로
	•	로컬에서 → https://localhost:32000
	•	외부에서 접속하려면 공유기에서 외부포트 → Mac Studio:32000 포트포워딩 후
→ https://공유기IP:<외부포트> 로 접속

⸻

✅ 4️⃣ 관리자 계정(ServiceAccount) 생성

admin-user.yaml 작성 후 적용:

apiVersion: v1
kind: ServiceAccount
metadata:
  name: admin-user
  namespace: kubernetes-dashboard
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: admin-user
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
- kind: ServiceAccount
  name: admin-user
  namespace: kubernetes-dashboard

kubectl apply -f admin-user.yaml


⸻

✅ 5️⃣ 로그인 토큰 발급

kubectl -n kubernetes-dashboard create token admin-user

	•	출력된 Token을 복사해 Dashboard 로그인 화면에 붙여넣기

⸻

✅ 6️⃣ 브라우저 접속
	•	주소창에서 https://<Mac IP>:32000 (또는 공유기 외부 포트) 입력
	•	브라우저 보안 경고 → “고급 → 계속 진행”
	•	로그인 화면에서 토큰 선택 → 발급받은 토큰 입력

⸻

🎯 완료

이제 Colima + k3s 위에서 Kubernetes Dashboard를 외부 브라우저로 접속 가능하게 됨.

⸻

👉 한 문장 요약:
Dashboard 설치 → Service NodePort(32000)로 노출 → admin-user 생성 & 토큰 발급 → 브라우저 HTTPS 접속 & 토큰 로그인.

