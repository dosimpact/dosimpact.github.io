"use strict";(self.webpackChunkdosimpact_blog=self.webpackChunkdosimpact_blog||[]).push([[70153],{3905:(e,n,t)=>{t.d(n,{Zo:()=>i,kt:()=>b});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),c=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},i=function(e){var n=c(e.components);return a.createElement(u.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,u=e.parentName,i=l(e,["components","mdxType","originalType","parentName"]),p=c(t),d=r,b=p["".concat(u,".").concat(d)]||p[d]||m[d]||s;return t?a.createElement(b,o(o({ref:n},i),{},{components:t})):a.createElement(b,o({ref:n},i))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=d;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l[p]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<s;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3490:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=t(87462),r=(t(67294),t(3905));const s={sidebar_position:4},o="Supabase JS SDK",l={unversionedId:"g-fe/next+supa/next4-js-sdk",id:"g-fe/next+supa/next4-js-sdk",title:"Supabase JS SDK",description:"- Supabase JS SDK",source:"@site/docs/g-fe/6-next+supa/next4-js-sdk.md",sourceDirName:"g-fe/6-next+supa",slug:"/g-fe/next+supa/next4-js-sdk",permalink:"/docs/g-fe/next+supa/next4-js-sdk",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/g-fe/6-next+supa/next4-js-sdk.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"frontEnd",previous:{title:"Supabase RLS",permalink:"/docs/g-fe/next+supa/next3-RLS-1"},next:{title:"Supabase Auth",permalink:"/docs/g-fe/next+supa/next5-Auth"}},u={},c=[{value:"Next actions + supabase client",id:"next-actions--supabase-client",level:2},{value:"Select",id:"select",level:2},{value:"Select Example Todo",id:"select-example-todo",level:3},{value:"Select With Join",id:"select-with-join",level:2},{value:"Mutation",id:"mutation",level:2}],i={toc:c},p="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,a.Z)({},i,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"supabase-js-sdk"},"Supabase JS SDK"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#supabase-js-sdk"},"Supabase JS SDK"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#next-actions--supabase-client"},"Next actions + supabase client")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#select"},"Select"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#select-example-todo"},"Select Example Todo")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#select-with-join"},"Select With Join")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#mutation"},"Mutation"))))),(0,r.kt)("p",null,"JavaScript Client Library : ",(0,r.kt)("a",{parentName:"p",href:"https://supabase.com/docs/reference/javascript/introduction"},"https://supabase.com/docs/reference/javascript/introduction")),(0,r.kt)("h2",{id:"next-actions--supabase-client"},"Next actions + supabase client"),(0,r.kt)("p",null,"supabase client"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uae30\ubcf8\uc801\uc73c\ub85c public \uc2a4\ud0a4\ub9c8\ub97c \ub514\ud3f4\ud2b8\ub85c \uac00\ub974\ud0a4\uace0 \uc788\ub2e4.  ")),(0,r.kt)("p",null,"Next actions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uc544\ub798 \uc608\uc2dc\ub294 actions\ub97c \uc774\uc6a9\ud55c \uc608\uc774\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},'\uc11c\ubc84\uc561\uc158\uc73c\ub85c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c "use server"; \uc120\uc5b8 \ubc0f \ube44\ub3d9\uae30 \ud568\uc218\ub85c \uc815\uc758\ud558\uc790.    '),(0,r.kt)("li",{parentName:"ul"},"\ucc38\uace0 - ",(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=PdmKlne1gRY"},"https://www.youtube.com/watch?v=PdmKlne1gRY"),"   ")),(0,r.kt)("p",null,"\uc8fc\uc758\uc810  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uc11c\ubc84 \uc561\uc158\uc740 \uc11c\ubc84 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud3ec\ud568\ud55c \ubbf8\ub4e4\uc6e8\uc5b4, \ub2e4\ub978 \uc11c\ubc84 \uc561\uc158, \ub77c\uc6b0\ud130 \ud578\ub4e4\ub7ec\uc5d0\uc11c \ud638\ucd9c\ub420 \uc218 \uc788\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"\uc774\ub54c \uc11c\ubc84 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c SSR \uc911\uc5d0 \uc11c\ubc84 \uc561\uc158\uc744 \ubd80\ub974\uac8c \ub418\uba74 \ucfe0\ud0a4\uc5d0 \ub300\ud55c \uc870\uc791\uc744 \uae08\uc9c0 \ud574\uc57c \ud55c\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"\uadf8\ub798\uc11c \uc561\uc158\ud55c\ud14c \uc5b4\ub5a0\ud55c \uacf3\uc5d0\uc11c \uc11c\ubc84 \uc561\uc158\uc744 \ubd88\ub800\ub294\uc9c0 \uc54c\ub824\uc8fc\uc5b4\uc57c \ud55c\ub2e4.   ")),(0,r.kt)("h2",{id:"select"},"Select"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let { data: chat, error } = await supabase\n  .from('chat')                     // 'chat' \ud14c\uc774\ube14\uc744 \uc120\ud0dd\n  .select(\"*\")                      // \ud14c\uc774\ube14\uc758 \ubaa8\ub4e0 \uceec\ub7fc\uc744 \uc870\ud68c\n  // Filters (\ud544\ud130 \uc870\uac74 \uc124\uc815)\n  .eq('column', 'Equal to')         // NULL \uc678 \uac12\uc744 \ube44\uad50\ud55c\ub2e4.   \n  .gt('column', 'Greater than')     // \n  .lt('column', 'Less than')        // \n  .gte('column', 'Greater than or equal to') // \n  .lte('column', 'Less than or equal to')   // \n  .like('column', '%CaseSensitive%')       //  CaseSensitive \n  .ilike('column', '%CaseInsensitive%')    // CaseInsensitive\n  .is('column', null)                     // IS NULL\n  .in('column', ['Array', 'Values'])       // \n  .neq('column', 'Not equal to')          // 'column' \uac12\uc774 'Not equal to'\uc640 \uc77c\uce58\ud558\uc9c0 \uc54a\ub294 \ud589 \ud544\ud130\n  // Arrays (\ubc30\uc5f4 \uad00\ub828 \uc870\uac74 \uc124\uc815)\n  .contains('array_column', ['array', 'contains']) // 'array_column'\uc774 \ubc30\uc5f4 ['array', 'contains']\ub97c \ud3ec\ud568\ud558\ub294 \ud589 \ud544\ud130\n  .containedBy('array_column', ['contained', 'by']) // 'array_column'\uc774 \ubc30\uc5f4 ['contained', 'by']\uc5d0 \uc644\uc804\ud788 \ud3ec\ud568\ub418\ub294 \ud589 \ud544\ud130\n---\n.eq('column', 'Equal to')\nSELECT * FROM chat WHERE column = 'Equal to';\n\n.neq('column', 'Not equal to')\nSELECT * FROM chat WHERE column != 'Not equal to';\n\n.gt('column', 'Greater than')\nSELECT * FROM chat WHERE column > 'Greater than';\n\n.lt('column', 'Less than')\nSELECT * FROM chat WHERE column < 'Less than';\n\n.gte('column', 'Greater than or equal to')\nSELECT * FROM chat WHERE column >= 'Greater than or equal to';\n\n.lte('column', 'Less than or equal to')\nSELECT * FROM chat WHERE column <= 'Less than or equal to';\n\n.like('column', '%CaseSensitive%')\nSELECT * FROM chat WHERE column LIKE '%CaseSensitive%';\n\n.ilike('column', '%CaseInsensitive%')\nSELECT * FROM chat WHERE column ILIKE '%CaseInsensitive%';\n\n.is('column', null)\nSELECT * FROM chat WHERE column IS NULL;\n\n.in('column', ['Array', 'Values'])\nSELECT * FROM chat WHERE column IN ('Array', 'Values');\n\n.contains('array_column', ['array', 'contains'])\nSELECT * FROM chat WHERE array_column @> ARRAY['array', 'contains'];\n\n.containedBy('array_column', ['contained', 'by'])\nSELECT * FROM chat WHERE array_column <@ ARRAY['contained', 'by'];\n\n")),(0,r.kt)("h3",{id:"select-example-todo"},"Select Example Todo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'"use server";\nimport { createServerSideClient } from "@/lib/supabase";\n\ninterface ContextProps {\n  serverComponent?: boolean;\n}\n\nexport const getTodosPublic = async (ctx?: ContextProps) => {\n  const supabase = await createServerSideClient(ctx?.serverComponent);\n  const result = await supabase\n    .from("todos-public")\n    .select("*")\n    .is("deleted_at", null)\n    .order("id", { ascending: false });\n\n  return result.data;\n};\n\nexport const getTodosPublicById = async (id: number, ctx?: ContextProps) => {\n  const supabase = await createServerSideClient(ctx?.serverComponent);\n  const result = await supabase\n    .from("todos-public")\n    .select("*")\n    .is("deleted_at", null)\n    .eq("id", id);\n\n  return result.data?.[0];\n};\n\nexport const getTodosPublicBySearch = async (\n  terms: string,\n  ctx?: ContextProps\n) => {\n  const supabase = await createServerSideClient(ctx?.serverComponent);\n  const result = await supabase\n    .from("todos-public")\n    .select("*")\n    .is("deleted_at", null)\n    .ilike("content", `%${terms}%`);\n\n  return result.data;\n};\n\n')),(0,r.kt)("h2",{id:"select-with-join"},"Select With Join"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// 1.\n// countries\uc640 cities\ub294 1:N \uad00\uacc4  \n// - \uc790\uc2dd \ud14c\uc774\ube14 \uc870\ud68c\nconst { data, error } = await supabase\n  .from('countries')\n  .select(`\n    name,\n    cities (\n      name\n    )\n  `)\n\n\n// 1.1\n// \uac2f\uc218\ub9cc \uad6c\ud558\uae30  \nconst { data, error } = await supabase\n  .from('countries')\n  .select(`*, cities(count)`)\n\n\n// 2.\n// users\uc640 teams\ub294 N:M \uad00\uacc4  \n// - join table \uc790\ub3d9\uc73c\ub85c \uc54c\uace0 \uc870\ud68c \ud574\uc900\ub2e4.  \nconst { data, error } = await supabase\n  .from('users')\n  .select(`\n    name,\n    teams (\n      name\n    )\n  `)\n\n// 3.\n// users\uc640 messages\ub294 1:N\uad00\uacc4 - 1 sender \n// users\uc640 messages\ub294 1:N\uad00\uacc4 - 2 receiver  \n// - from:users!messages_sender_id_fkey(name),\n// - \ubcc4\uce6d:\ud14c\uc774\ube14!\uc678\ub798\ud0a4\uc81c\uc57d(\ud544\ub4dc\uc120\ud0dc)  \nconst { data, error } = await supabase\n  .from('messages')\n  .select(`\n    content,\n    from:users!messages_sender_id_fkey(name),\n    to:users!messages_receiver_id_fkey(name)\n  `)\n\n")),(0,r.kt)("h2",{id:"mutation"},"Mutation"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"update\ub294 eq\ub85c \uc120\ud0dd + update\uc548\uc5d0\ub294 \uc5c5\ub370\uc774\ud2b8 \ud560 \ub0b4\uc6a9\uc744 \uc801\uc5b4\uc900\ub2e4.  "),(0,r.kt)("li",{parentName:"ul"},"softDelete\ub294 string\ud0c0\uc785(ISO)\uc73c\ub85c \uc0ad\uc81c\ub41c \ub0a0\uc9dc\ub97c \ub118\uaca8\uc8fc\uba74\uc11c \uad6c\ud604\ud55c\ub2e4.  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// single insert  \n  const result = await supabase\n    .from(\"todos-public\")\n    .insert({ content })\n    .select();\n\n\n// multiple insert\n  const rows = [\n    { column1: 'value1', column2: 'value2' },\n    { column1: 'value3', column2: 'value4' },\n    { column1: 'value5', column2: 'value6' },\n  ];\n\n  const { data, error } = await supabase\n    .from('your_table_name')\n    .insert(rows);\n\n// single update\n const result = await supabase\n    .from(\"todos-public\")\n    .update({ content, updated_at: new Date().toISOString() })\n    .eq(\"id\", id)\n    .select();\n\n// multiple update\n  const { data, error } = await supabase\n    .from('your_table_name')\n    .update({ column_name: 'new_value' }) // \uc5c5\ub370\uc774\ud2b8\ud560 \uac12\n    .in('id', [1, 2, 3]); // \uc870\uac74: id\uac00 1, 2, 3\uc778 \ud589\ub4e4\n\n// soft delete\nconst result = await supabase\n    .from(\"todos-public\")\n    .update({ deleted_at: new Date().toISOString() })\n    .eq(\"id\", id)\n    .select();\n\n// hard delete\nconst result = await supabase.from(\"todos-public\").delete().eq(\"id\", id);\n\n")))}m.isMDXComponent=!0}}]);