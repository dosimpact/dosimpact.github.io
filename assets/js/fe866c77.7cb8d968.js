"use strict";(self.webpackChunkdosimpact_blog=self.webpackChunkdosimpact_blog||[]).push([[32910],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>h});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),s=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(c.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(t),d=r,h=u["".concat(c,".").concat(d)]||u[d]||m[d]||l;return t?a.createElement(h,o(o({ref:n},p),{},{components:t})):a.createElement(h,o({ref:n},p))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var s=2;s<l;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},73536:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var a=t(87462),r=(t(67294),t(3905));const l={sidebar_position:15},o="React Patterns - Compoisiton",i={unversionedId:"g-fe/react/advanced/ad14-patterns-composition",id:"g-fe/react/advanced/ad14-patterns-composition",title:"React Patterns - Compoisiton",description:"- React Patterns - Compoisiton",source:"@site/docs/g-fe/4-react/4-advanced/ad14-patterns-composition.md",sourceDirName:"g-fe/4-react/4-advanced",slug:"/g-fe/react/advanced/ad14-patterns-composition",permalink:"/docs/g-fe/react/advanced/ad14-patterns-composition",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/g-fe/4-react/4-advanced/ad14-patterns-composition.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"frontEnd",previous:{title:"React Patterns - use Funnel",permalink:"/docs/g-fe/react/advanced/ad14-patterns-funnel"},next:{title:"React Optimization",permalink:"/docs/g-fe/react/advanced/ad20-optimization"}},c={},s=[{value:"\ud83d\udccc \ub3cc\uc544\ubcf4\uae30, \uba85\ub839\ud615 vs \uc120\uc5b8\ud615",id:"-\ub3cc\uc544\ubcf4\uae30-\uba85\ub839\ud615-vs-\uc120\uc5b8\ud615",level:2},{value:"Switch",id:"switch",level:2},{value:"Match",id:"match",level:2},{value:"Show",id:"show",level:2}],p={toc:s},u="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-patterns---compoisiton"},"React Patterns - Compoisiton"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#react-patterns---compoisiton"},"React Patterns - Compoisiton"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#-%EB%8F%8C%EC%95%84%EB%B3%B4%EA%B8%B0-%EB%AA%85%EB%A0%B9%ED%98%95-vs-%EC%84%A0%EC%96%B8%ED%98%95"},"\ud83d\udccc \ub3cc\uc544\ubcf4\uae30, \uba85\ub839\ud615 vs \uc120\uc5b8\ud615")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#switch"},"Switch")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#match"},"Match")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#show"},"Show"))))),(0,r.kt)("h2",{id:"-\ub3cc\uc544\ubcf4\uae30-\uba85\ub839\ud615-vs-\uc120\uc5b8\ud615"},"\ud83d\udccc \ub3cc\uc544\ubcf4\uae30, \uba85\ub839\ud615 vs \uc120\uc5b8\ud615"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\uba85\ub839\uc801(imperative) : \uc5b4\ub5bb\uac8c(how) \ud560\uc9c0 \ud55c\ub2e8\uacc4\uc529 \uc9c0\uc2dc, if-else \ubd84\uae30 \ub85c\uc9c1\uc73c\ub85c \ud750\ub984\uc744 \ud0c4\ub2e4.  ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\uc120\uc5b8\uc801(Declarative) : \ubb34\uc5c7(what)\uc744 \uc6d0\ud558\ub294\uc9c0\ub9cc \uc120\uc5b8 (\ucd5c\uc885 \uc0c1\ud0dc\uc758 \ubaa9\ud45c \uc124\uc815)  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\ub9ac\uc561\ud2b8\uc5d0\uc11c \uc120\uc5b8\ud615\uc744 \uc9c0\ud5a5\ud558\ub294 \uc774\uc720.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"1.UI\ub294 \uc0c1\ud0dc\uc5d0 \ub530\ub77c \uc790\ub3d9 \uacb0\uc815\ub428 ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"( \uc774 \uc0c1\ud0dc\uc77c\ub54c\ub294 \uc774\uac83\uc744 \ubcf4\uc5ec\uc900\ub2e4. \uadf8 \uc0c1\ud0dc\uae4c\uc9c0 \ub098\uc624\ub294 \uacfc\uc815\uc740 \uad00\uc2ec\ubc16 )  "))),(0,r.kt)("li",{parentName:"ul"},"2.\ucd94\uc0c1\ud654\uc640 \ud14c\uc2a4\ud2b8\uac00\ub2a5(\uc720\uc9c0\ubcf4\uc218\uc131)  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc5d0\uc11c \uc0c1\ud0dc\ub97c \ubcf5\uc7a1\ud558\uac8c \uacc4\uc0b0\ud55c\ub2e4\uba74, \ub0b4\ubd80 \ub85c\uc9c1\uc744 \ub2e4 \ub4e4\uc5ec\ub2e4\ubd10\uc57c TC\uc791\uc131 \uac00\ub2a5  "),(0,r.kt)("li",{parentName:"ul"},"\ubc18\ub300\ub85c \uc0c1\ud0dc\uac00 \uc120\uc5b8\uc801\uc73c\ub85c \ub531 4\uac00\uc9c0 - \uadf8\uc5d0 \ub530\ub77c \ubcf4\uc774\ub294\uac8c 4\uac00\uc9c0\ub85c \uacb0\uc815\ub41c\ub2e4\uba74 \ud6e8\uc52c \uc27d\ub2e4.  "))),(0,r.kt)("li",{parentName:"ul"},"3.\ub9ac\uc561\ud2b8\uc5d0\uc11c V-Dom diff \uc54c\uace0\ub9ac\uc998\uc5d0\uc11c \ucd5c\uc18c \ubcc0\uacbd\uc0ac\ud56d\uc744 \ud30c\uc545\ud558\uae30 \uc704\ud574 \ubd88\ubcc0\uc131\uc744 \ud0d0\uc9c0\ud55c\ub2e4.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\uc774 \ub9e4\ucee4\ub2c8\uc998\uc5d0 \ub9de\uac8c \uac1c\ubc1c\uc790\ub3c4 \uc120\uc5b8\ud615\uc73c\ub85c \uc791\uc131\ud558\ub294\uac83\uc774 \ubcf5\uc7a1\uc131 \ub0ae\ucda4.  "))))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\uc120\uc5b8\ud615\uc758 \ub2e4\ub978 \uc608\uc2dc  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"SQL\ubb38 \uc791\uc131 => ( \ub0b4\ubd80\uc5d0\uc11c \ucffc\ub9ac \ud50c\ub798\ub2dd\uacfc \ub370\uc774\ud130 \uc870\ud68c )"),(0,r.kt)("li",{parentName:"ul"},"CSS \uc791\uc131 => ( \ube0c\ub77c\uc6b0\uc800\uac00 \ub0b4\ubd80\uc5d0\uc11c \ucc98\ub9ac )  "),(0,r.kt)("li",{parentName:"ul"},"map, each \ub4f1 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d => ( \ub0b4\ubd80 \ub3d9\uc791\uc740 for\ubb38\uc73c\ub85c \ub3cc\uc544\uac04\ub2e4. )",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"*\uc7a5\uc810 : lazy evaluation \ucd5c\uc801\ud654 \uae30\ubc95 \uac00\ub2a5.  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\uba85\ub839\ud615\uc5d0\uc11c\ub294 \uacc4\uc0b0 \uacb0\uacfc\ub97c \uc911\uac04\uc911\uac04 \uc800\uc7a5\ud558\uace0, \ubcf5\uc0ac\ud558\uace0 for\ubb38 \ub3cc\uace0 \ub4f1\ub4f1 \uacfc\uc815\uc744 \uac70\uce58\ub294\ub370  "),(0,r.kt)("li",{parentName:"ul"},"lodash, RxJS \ub4f1 \ub0b4\ubd80\uc5d0\uc11c \uc911\uac04 \ubc30\uc5f4 \uc81c\uac70(\uba54\ubaa8\ub9ac \uc808\uc57d), \ub2e8\uc77c \ub8e8\ud504 \ucc98\ub9ac(CPU\ud6a8\uc728) \ub4f1 \uacfc\uc815\uc744 \ucd94\uac00\ud560 \uc5ec\uc9c0\uac00 \uc788\ub2e4.  "))))),(0,r.kt)("li",{parentName:"ul"},"\uc7a5\uc810 : How\uc5d0 \ud574\ub2f9\ud558\ub294 \ubcf5\uc7a1\ud55c \ubd80\ubd84\uc740 \uc2dc\uc2a4\ud15c\uc774 \ub2f4\ub2f9\ud558\uace0, \uac1c\ubc1c\uc790\ub294 What\ub9cc \uc815\uc758\ud55c\ub2e4.  ")))),(0,r.kt)("h2",{id:"switch"},"Switch"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uc5b8\uc81c : if-else \uc870\uac74\ubb38 \uccb4\uc778\uc774\ub098, \uc0bc\ud56d\uc5f0\uc0b0\uc790\ub85c \ubcf5\uc7a1\ud55c \ub85c\uc9c1\uc744 \ucc98\ub9ac\ud574\uc11c \uac00\ub3c5\uc131\uc774 \ub5a8\uc5b4\uc9c0\ub294 \uacbd\uc6b0  "),(0,r.kt)("li",{parentName:"ul"},"\ud2b9\ud788, (enum) value\uc5d0 \ub530\ub77c\uc11c \uc870\uac74\ubd80 \ub80c\ub354\ub9c1\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \ub54c \uc0ac\uc6a9\ud558\uba74 \uc88b\ub2e4.  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client";\n\nimport type React from "react";\n\ninterface Props<V extends string | number> {\n  caseBy: Partial<Record<V, React.JSX.Element | null>>;\n  value: V;\n  defaultComponent?: React.JSX.Element | null;\n}\n\nexport function Switch<V extends string | number>({\n  value,\n  caseBy,\n  defaultComponent = null\n}: Props<V>): React.JSX.Element | null {\n  if (value == null) {\n    return defaultComponent;\n  }\n\n  return caseBy[value] ?? defaultComponent;\n}\n')),(0,r.kt)("p",null,"\uc608\uc81c  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"function Status({ status }: { status: string }) {\n  return (\n    <Switch\n      value={status}\n      caseBy={{\n        active: <ActiveComponent />,\n        inactive: <InactiveComponent />,\n        pending: <PendingComponent />,\n      }}\n      defaultComponent={<UnknownComponent />}\n    />\n  );\n}\n")),(0,r.kt)("h2",{id:"match"},"Match"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client";\n\nimport type { ReactNode } from "react";\nimport React from "react";\n\ninterface MatchProps<T> {\n  value: T;\n  children: ReactNode;\n}\n\ninterface CaseProps<T> {\n  when: T | ((value: T) => boolean);\n  children: ReactNode;\n}\n\ntype MatchFunction<T> = (value: T) => boolean;\n\ninterface DefaultProps {\n  children: ReactNode;\n}\n\nexport function Match<T>({ value, children }: Readonly<MatchProps<T>>): React.JSX.Element | null {\n  const cases = React.Children.toArray(children);\n\n  for (const child of cases) {\n    if (React.isValidElement(child)) {\n      if (child.type === Case) {\n        const { when, children: caseChildren } = child.props as CaseProps<T>;\n        const matches = typeof when === "function" ? (when as MatchFunction<T>)(value) : when === value;\n\n        if (matches) {\n          return <>{caseChildren}</>;\n        }\n      }\n      else if (child.type === Default) {\n        const { children: defaultChildren } = child.props as DefaultProps;\n        return <>{defaultChildren}</>;\n      }\n    }\n  }\n\n  return null;\n}\n\nexport function Case<T>({ children }: Readonly<CaseProps<T>>): React.JSX.Element {\n  return <>{children}</>;\n}\n\nexport function Default({ children }: Readonly<DefaultProps>): React.JSX.Element {\n  return <>{children}</>;\n}\n\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uac12 \uae30\ubc18 \ub9e4\uce6d\uacfc \ud568\uc218 \uae30\ubc18 \ub9e4\uce6d \ubaa8\ub450 \uc9c0\uc6d0\ud55c\ub2e4.  ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'<Match value={status}>\n  <Case when="loading"><Spinner /></Case>\n  <Case when={(s)=> s ==="error"}><ErrorMessage /></Case>\n  <Case when="success"><Content /></Case>\n  <Default><EmptyState /></Default>\n</Match>\n')),(0,r.kt)("h2",{id:"show"},"Show"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client";\n\nimport type { ReactNode } from "react";\nimport React from "react";\n\ntype MatchMode = "singleMatch" | "multipleMatch";\n\ninterface ShowProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n  mode?: MatchMode;\n  separator?: ReactNode;\n}\n\ninterface WhenProps {\n  isTrue: boolean;\n  children: ReactNode;\n}\n\n/**\n * @example\n * ```tsx\n * <Show fallback={<EmptyState />}>\n *   <When isTrue={isLoading}><Spinner /></When>\n *   <When isTrue={hasError}><ErrorMessage /></When>\n *   <When isTrue={hasData}><Content /></When>\n * </Show>\n * ```\n */\nexport function Show({\n  children,\n  fallback = null,\n  mode = "multipleMatch",\n  separator = null,\n}: ShowProps): React.JSX.Element | null {\n  const childrenArray = React.Children.toArray(children);\n  const matchedElements: ReactNode[] = [];\n\n  for (const child of childrenArray) {\n    if (React.isValidElement(child) && child.type === When) {\n      const { isTrue, children: whenChildren } = child.props as WhenProps;\n\n      if (isTrue) {\n        matchedElements.push(whenChildren);\n\n        if (mode === "singleMatch") {\n          return <>{whenChildren}</>;\n        }\n      }\n    }\n  }\n\n  if (matchedElements.length > 0) {\n    if (separator && matchedElements.length > 1) {\n      const elementsWithSeparators: ReactNode[] = [];\n\n      matchedElements.forEach((element, index) => {\n        elementsWithSeparators.push(\n          <React.Fragment key={`element-${index}`}>{element}</React.Fragment>\n        );\n\n        if (index < matchedElements.length - 1) {\n          elementsWithSeparators.push(\n            <React.Fragment key={`separator-${index}`}>\n              {separator}\n            </React.Fragment>\n          );\n        }\n      });\n\n      return <>{elementsWithSeparators}</>;\n    }\n\n    return <>{matchedElements}</>;\n  }\n\n  return <>{fallback}</>;\n}\n\nexport function When({ children }: WhenProps): React.JSX.Element {\n  return <>{children}</>;\n}\n\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"<Show fallback={<EmptyState />}>\n  <When isTrue={isLoading}><Spinner /></When>\n  <When isTrue={hasError}><ErrorMessage /></When>\n  <When isTrue={hasData}><Content /></When>\n</Show>\n")))}m.isMDXComponent=!0}}]);