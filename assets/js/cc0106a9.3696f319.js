"use strict";(self.webpackChunkdosimpact_blog=self.webpackChunkdosimpact_blog||[]).push([[16572],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>y});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,y=p["".concat(s,".").concat(d)]||p[d]||m[d]||i;return n?r.createElement(y,l(l({ref:t},c),{},{components:n})):r.createElement(y,l({ref:t},c))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:a,l[1]=o;for(var u=2;u<i;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},12912:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const i={sidebar_position:1},l="Basic React Testing 01",o={unversionedId:"g-fe/testing/react/react-test00",id:"g-fe/testing/react/react-test00",title:"Basic React Testing 01",description:"- Basic React Testing 01",source:"@site/docs/g-fe/7-testing/1-react/react-test00.md",sourceDirName:"g-fe/7-testing/1-react",slug:"/g-fe/testing/react/react-test00",permalink:"/docs/g-fe/testing/react/react-test00",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/g-fe/7-testing/1-react/react-test00.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"frontEnd",previous:{title:"React Testing",permalink:"/docs/category/react-testing"},next:{title:"MSW",permalink:"/docs/category/msw"}},s={},u=[{value:"\uc900\ube44\uc0ac\ud56d",id:"\uc900\ube44\uc0ac\ud56d",level:2},{value:"1.Mock Router",id:"1mock-router",level:4},{value:"2.Mock API with MSW",id:"2mock-api-with-msw",level:4},{value:"3.\uac01 \ud14c\uc2a4\ud2b8\uc758 \uc2dc\uac04 \uc81c\ud55c \uac78\uae30 Jest",id:"3\uac01-\ud14c\uc2a4\ud2b8\uc758-\uc2dc\uac04-\uc81c\ud55c-\uac78\uae30-jest",level:4},{value:"Debuging",id:"debuging",level:2},{value:"\ud14c\uc2a4\ud2b8\ub97c 3\ub2e8\uacc4\ub85c \uc9c4\ud589\ud569\ub2c8\ub2e4.",id:"\ud14c\uc2a4\ud2b8\ub97c-3\ub2e8\uacc4\ub85c-\uc9c4\ud589\ud569\ub2c8\ub2e4",level:2},{value:"DOM Testing Library",id:"dom-testing-library",level:2},{value:"Install",id:"install",level:3},{value:"getBy vs findBy vs queryBy",id:"getby-vs-findby-vs-queryby",level:4},{value:"DOM \uc694\uc18c\ub97c \uac00\uc838\uc624\ub294 \ubc29\uc2dd\uc5d0\ub294 2\uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4.",id:"dom-\uc694\uc18c\ub97c-\uac00\uc838\uc624\ub294-\ubc29\uc2dd\uc5d0\ub294-2\uac00\uc9c0\uac00-\uc788\uc2b5\ub2c8\ub2e4",level:4},{value:"render",id:"render",level:3},{value:"screen",id:"screen",level:3},{value:"ByText \uc640 ByRole \uc758 \uc911\uc694\ud55c \ucc28\uc774\uc810",id:"bytext-\uc640-byrole-\uc758-\uc911\uc694\ud55c-\ucc28\uc774\uc810",level:4},{value:"userEvent (async) (@testing-library/user-event)",id:"userevent-async-testing-libraryuser-event",level:3},{value:"fireEvent (@testing-library/react)",id:"fireevent-testing-libraryreact",level:3},{value:"Jest (DOM) Matcher",id:"jest-dom-matcher",level:3},{value:"route changed rerender",id:"route-changed-rerender",level:3},{value:"waitFor",id:"waitfor",level:3},{value:"Trouble Shooting",id:"trouble-shooting",level:2},{value:"React Router DOM",id:"react-router-dom",level:2}],c={toc:u},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"basic-react-testing-01"},"Basic React Testing 01"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#basic-react-testing-01"},"Basic React Testing 01"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#%EC%A4%80%EB%B9%84%EC%82%AC%ED%95%AD"},"\uc900\ube44\uc0ac\ud56d"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#1mock-router"},"1.Mock Router")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#2mock-api-with-msw"},"2.Mock API with MSW")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#3%EA%B0%81-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%8B%9C%EA%B0%84-%EC%A0%9C%ED%95%9C-%EA%B1%B8%EA%B8%B0-jest"},"3.\uac01 \ud14c\uc2a4\ud2b8\uc758 \uc2dc\uac04 \uc81c\ud55c \uac78\uae30 Jest")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#debuging"},"Debuging")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-3%EB%8B%A8%EA%B3%84%EB%A1%9C-%EC%A7%84%ED%96%89%ED%95%A9%EB%8B%88%EB%8B%A4"},"\ud14c\uc2a4\ud2b8\ub97c 3\ub2e8\uacc4\ub85c \uc9c4\ud589\ud569\ub2c8\ub2e4.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#dom-testing-library"},"DOM Testing Library"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#install"},"Install"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#getby-vs-findby-vs-queryby"},"getBy vs findBy vs queryBy")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#dom-%EC%9A%94%EC%86%8C%EB%A5%BC-%EA%B0%80%EC%A0%B8%EC%98%A4%EB%8A%94-%EB%B0%A9%EC%8B%9D%EC%97%90%EB%8A%94-2%EA%B0%80%EC%A7%80%EA%B0%80-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4"},"DOM \uc694\uc18c\ub97c \uac00\uc838\uc624\ub294 \ubc29\uc2dd\uc5d0\ub294 2\uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4.")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#render"},"render")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#screen"},"screen"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#bytext-%EC%99%80-byrole-%EC%9D%98-%EC%A4%91%EC%9A%94%ED%95%9C-%EC%B0%A8%EC%9D%B4%EC%A0%90"},"ByText \uc640 ByRole \uc758 \uc911\uc694\ud55c \ucc28\uc774\uc810")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#userevent-async-testing-libraryuser-event"},"userEvent (async) (@testing-library/user-event)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#fireevent-testing-libraryreact"},"fireEvent (@testing-library/react)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#jest-dom-matcher"},"Jest (DOM) Matcher")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#route-changed-rerender"},"route changed rerender")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#waitfor"},"waitFor")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#trouble-shooting"},"Trouble Shooting")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#react-router-dom"},"React Router DOM"))))),(0,a.kt)("h2",{id:"\uc900\ube44\uc0ac\ud56d"},"\uc900\ube44\uc0ac\ud56d"),(0,a.kt)("h4",{id:"1mock-router"},"1.Mock Router"),(0,a.kt)("p",null,"1.\ub77c\uc6b0\ud130\ub294 \uba54\ubaa8\ub9ac \ub77c\uc6b0\ud130\ub85c \ud14c\uc2a4\ud2b8 \ud569\ub2c8\ub2e4. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\uc774\ub294 \ube0c\ub77c\uc6b0\uc800\uc758 \ud788\uc2a4\ud1a0\ub9ac \uc800\uc7a5\uc18c\uc5d0 \uc5f0\ub3d9\ub418\uc9c0 \uc54a\uace0, \uba54\ubaa8\ub9ac\uc5d0\uc11c \ub77c\uc6b0\ud130\ub97c \uc628\uc804\ud788 \uad00\ub9ac \ud569\ub2c8\ub2e4.   "),(0,a.kt)("li",{parentName:"ul"},"\ud14c\uc2a4\ud2b8 \uc911\uc5d0 \uacbd\ub85c\uac00 \ubc14\ub010\ub2e4\uba74, \ub9ac\ub79c\ub354\ub9c1\uc744 \ud1b5\ud574\uc11c \ub2e4\uc2dc \ud654\uba74\uc744 \uadf8\ub824\uc57c \ud569\ub2c8\ub2e4.  ")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// 1.Memory Router \uc774\uc6a9\nimport { MemoryRouter } from 'react-router-dom';\n\n  const { container } = render(\n      <MemoryRouter initialEntries={['/start']}>\n        <App />\n      </MemoryRouter>\n    );\n\n// 2.history \uac1d\uccb4\ub97c \uc9c1\uc811 \uad00\ub9ac\ud558\uba70 Router\uc5d0 \ubc14\uc778\ub529  \n// - history \uac1d\uccb4\ub97c \ub354 \ucee4\uc2a4\ud130 \ub9c8\uc774\uc9d5 \uac00\ub2a5.  \n// - \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc5d0\uc11c history.push \ub4f1\uc758 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud558\uba74 rerender\ub97c \ud574\uc57c \ud55c\ub2e4.  \n\nimport App from 'App';\nimport { Router } from 'react-router-dom';\nimport { createMemoryHistory } from 'history';\n\n    const history = createMemoryHistory({\n      initialEntries: ['/start'],\n    });\n\n    const { container } = render(\n      <Router location={history.location} navigator={history}>\n        <App />\n      </Router>\n    );\n")),(0,a.kt)("h4",{id:"2mock-api-with-msw"},"2.Mock API with MSW"),(0,a.kt)("p",null,"2.msw \uc11c\ubc84\ub97c \uc14b\uc5c5\ud569\ub2c8\ub2e4.  "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Unit \ud14c\uc2a4\ud2b8 \ud658\uacbd\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ud2b9\uc815 \uacbd\ub85c\uc5d0 \ub300\ud55c \uc751\ub2f5\uc744 mocking \ud569\ub2c8\ub2e4.  "),(0,a.kt)("li",{parentName:"ul"},"browser \ud658\uacbd\uc5d0\uc11c\ub294 service worker\ub85c msw\ub97c \uc2e4\ud589 \ud569\ub2c8\ub2e4.   "),(0,a.kt)("li",{parentName:"ul"},"\ud14c\uc2a4\ud2b8 \ud658\uacbd\uc5d0\uc11c\ub294 node \ud658\uacbd\uc73c\ub85c msw\ub97c \uc2e4\ud589 \ud569\ub2c8\ub2e4.    ")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \ud2b9\uc815 \uacbd\ub85c\ub97c server.use\ub97c \uc0ac\uc6a9\ud558\uba74 override \uac00\ub2a5. \n  beforeAll(() => {\n    server.use(\n      rest.get('/api/mock-url', (_, res, ctx) => {\n        return res(ctx.status(200), ctx.json({ mock:true }));\n      })\n    );\n  });\n\n")),(0,a.kt)("h4",{id:"3\uac01-\ud14c\uc2a4\ud2b8\uc758-\uc2dc\uac04-\uc81c\ud55c-\uac78\uae30-jest"},"3.\uac01 \ud14c\uc2a4\ud2b8\uc758 \uc2dc\uac04 \uc81c\ud55c \uac78\uae30 Jest"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"  test('test stub', async () => {\n    jest.setTimeout(20000);\n  });\n")),(0,a.kt)("h2",{id:"debuging"},"Debuging"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"await screen.findByText(/text/);\nscreen.debug();\n// <body> \ud0dc\uadf8\ub97c \ud3ec\ud568\ud55c \uc804\uccb4 DOM\ucd9c\ub825\ud55c\ub2e4.  \n// \uc0ac\uc6a9\uc790\uac00 \ub9c8\uce58 \ud654\uba74\uc744 \ubcf4\ub294\uac83\uacfc \uac19\uc774 \uc778\ud130\ub809\uc158.  \n--- \n    const { container } = render(\n      <MemoryRouter initialEntries={['/start']}>\n        <App />\n      </MemoryRouter>\n    );\nconsole.log(prettyDOM(container));\n// redner\ub300\uc0c1\uc758 \ucef4\ud3ec\ub10c\ud2b8\ub9cc DOM\uc744 \ucd9c\ub825\ud55c\ub2e4.  \n// querySelector \ub4f1\uc744 \uc0ac\uc6a9\ud574\uc11c \uc694\uc18c\uc5d0 \uc811\uadfc \uac00\ub2a5.  \n\n")),(0,a.kt)("h2",{id:"\ud14c\uc2a4\ud2b8\ub97c-3\ub2e8\uacc4\ub85c-\uc9c4\ud589\ud569\ub2c8\ub2e4"},"\ud14c\uc2a4\ud2b8\ub97c 3\ub2e8\uacc4\ub85c \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"1.given  "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ucef4\ud3ec\ub10c\ud2b8\ub97c \ub80c\ub354\ub9c1 \ud569\ub2c8\ub2e4.  ",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"ConfigeWrapper\ub97c \uac10\uc2f8\ub294\uac8c \ud544\uc694\ud569\ub2c8\ub2e4.(router \ub4f1)  ")))),(0,a.kt)("p",null,"2.when  "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\uc5b4\ub5a0\ud55c \uc720\uc800\uc758 \uc561\uc158",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\ud074\ub9ad \uc774\ubca4\ud2b8 ( userEvent.click ) "),(0,a.kt)("li",{parentName:"ul"},"\uc785\ub825 \uc774\ubca4\ud2b8 ( fireEvent.change )")))),(0,a.kt)("p",null,"3.then  "),(0,a.kt)("p",null,"3.1 \uc874\uc7ac\uc131 \ud655\uc778 : \uc2a4\ud06c\ub9b0\uc5d0\uc11c \ud2b9\uc815 \ud14d\uc2a4\ud2b8\uac00 \uc788\ub294\uc9c0 \ud655\uc778\n3.2 \ud074\ub9ad \uc774\ubca4\ud2b8 \ud655\uc778 : \ud2b9\uc815 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud588\uc744\ub54c \uc815\uc0c1 \uc791\ub3d9 \ud574\uc57c \ud569\ub2c8\ub2e4.\n3.3 \ube44\ub3d9\uae30 \ucc98\ub9ac \ub300\uae30, waitFor\uc744 \uc774\uc6a9\ud574\uc11c \ube44\ub3d9\uae30 \ucc98\ub9ac\uc5d0 \ub300\ud55c \ub85c\uc9c1\uc744 \ub300\uae30\ud574\uc57c \ud569\ub2c8\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","3.4 \uc785\ub825 \uc774\ubca4\ud2b8"),(0,a.kt)("h2",{id:"dom-testing-library"},"DOM Testing Library"),(0,a.kt)("h3",{id:"install"},"Install"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"yarn add @testing-library/react \nyarn add @testing-library/jest-dom  \nyarn add @testing-library/user-event   \n\n---\nyarn add @testing-library/react \n- render, screen \ud568\uc218 \uc81c\uacf5  \n\nyarn add @testing-library/jest-dom  \n- https://testing-library.com/docs/ecosystem-jest-dom/\n- DOM element matchers \ub97c \uc81c\uacf5\ud574\uc900\ub2e4.  \n- \uc608) toBeEmptyDOMElement \ube44\uc5c8\ub294\uc9c0? , toBeVisible \uc694\uc18c\uac00 visible\ud55c\uc9c0?\n\nyarn add @testing-library/user-event   \n- \uc608) await userEvent.click(await screen.findAllByText(/text/));  \n\n")),(0,a.kt)("h4",{id:"getby-vs-findby-vs-queryby"},"getBy vs findBy vs queryBy"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://testing-library.com/docs/dom-testing-library/cheatsheet/#queries"},"https://testing-library.com/docs/dom-testing-library/cheatsheet/#queries"),"  "),(0,a.kt)("p",null,"DOM\uc5d0\uc11c \uc694\uc18c\ub97c \uac00\uc838\uc62c\ub54c \ud06c\uac8c 3\uac00\uc9c0 \ubc29\uc2dd\uc774 \uc788\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","1.getBy : await\ub97c \ud558\uc9c0\uc54a\uace0 \ubc14\ub85c \uac00\uc838\uc624\ub824\uace0 \uc2dc\ub3c4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"getByRole \uc744 \ud1b5\ud574 \uc811\uadfc\uc131 \ud2b8\ub9ac\ub97c \uc774\uc6a9\ud558\ub294\uac83\uc774 \uac00\uc7a5 \uc88b\ub2e4.  ")),(0,a.kt)("p",null,"2.findBy : await\ub97c \ud558\uba70, \uc5c6\ub2e4\uba74 \uc560\ub7ec\ub97c \ub358\uc9c4\ub2e4. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"waitFor \ub610\ub294 findBy\uc640 \uac19\uc740 Async API\ub97c \uc0ac\uc6a9\ud558\uc5ec DOM\uc758 \ubcc0\uacbd\uc744 \uae30\ub2e4\ub9b4 \uc218 \uc788\ub2e4.  "),(0,a.kt)("li",{parentName:"ul"},"API Call\uc774 \ud3ec\ud568\ub41c useEffect\uac00 \uc788\ub2e4\uba74 await + findBy\ub97c \uc0ac\uc6a9\ud560 \uac83.  ")),(0,a.kt)("p",null,"3.queryBy : \uc694\uc18c\uac00 \uc5c6\uc5b4\ub3c4 \uc560\ub7ec\ub97c \ub358\uc9c0\uc9c0 \uc54a\ub294\ub2e4.(querySelector\ub97c \uc0dd\uac01\ud558\uba74 \ub420\ub4ef)   "),(0,a.kt)("h4",{id:"dom-\uc694\uc18c\ub97c-\uac00\uc838\uc624\ub294-\ubc29\uc2dd\uc5d0\ub294-2\uac00\uc9c0\uac00-\uc788\uc2b5\ub2c8\ub2e4"},"DOM \uc694\uc18c\ub97c \uac00\uc838\uc624\ub294 \ubc29\uc2dd\uc5d0\ub294 2\uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"1.getTextBy\uc744 \ud1b5\ud574\uc11c \uac00\uc838\uc624\ub294\uac83\uc740 \uc2e4\uc81c \uc720\uc800\uc758 \uc778\uc2dd\uac00 \ub2ee\uc544\uc788\ub2e4.  "),(0,a.kt)("li",{parentName:"ul"},"2.render \uacb0\uacfc\uc5d0\uc11c querySelector\uc744 \uc774\uc6a9\ud574\uc11c DOM\uc744 \uc9c1\uc811\uac00\uc838\uc635\ub2c8\ub2e4. ",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\uc774\ub294 \uc2e4\uc81c \uc720\uc800\uac00 \uc544\ub2cc \ucef4\ud4e8\ud130\uc758 \ub85c\uc9c1\uc73c\ub85c \uac00\uc838\uc635\ub2c8\ub2e4.  ")))),(0,a.kt)("h3",{id:"render"},"render"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const history = createMemoryHistory({ initialEntries: ['/home'] });\n\n    const { container: app, rerender } = render(\n      <Router location={history.location} navigator={history}>\n        <App />\n      </Router>\n    );\n")),(0,a.kt)("h3",{id:"screen"},"screen"),(0,a.kt)("p",null,"\ud604\uc7ac DOM \uc804\uccb4\uc5d0\uc11c \uc694\uc18c\ub97c \uac00\uc838\uc635\ub2c8\ub2e4.  "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// 1.findByText (async)\nawait screen.findByText(/text/);\n// visibility: 'hidden' \uc784\uc5d0\ub3c4 HTML\uc694\uc18c\uac00 \uc788\uc73c\uba74 PASS\nexpect(await screen.findByText(/text/)).toBeVisible();\n// visibility: 'hidden' \uc778 \uacbd\uc6b0 Fail  \n\n// 2.findByRole (async)\nawait screen.findByRole('button', { name: /text/ })\nawait screen.findByRole('checkbox', { name: /i agree terms/i });\n\n")),(0,a.kt)("h4",{id:"bytext-\uc640-byrole-\uc758-\uc911\uc694\ud55c-\ucc28\uc774\uc810"},"ByText \uc640 ByRole \uc758 \uc911\uc694\ud55c \ucc28\uc774\uc810"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const btnEl = await screen.findByText(/\ubc84\ud2bc\uba85/);\nconsole.log('--\x3ebtnEl', prettyDOM(btnEl));\n// \ubc84\ud2bc\uc744 \ubc18\ub4dc\uc2dc \uac00\uc838\uc624\uc9c0 \uc54a\ub294\ub2e4. \ubc84\ud2bc\uc744 \uac10\uc2f8\ub294 span \ud0dc\uadf8 \ub4f1\uc758 \ub0b4\ubd80 \uc694\uc18c\ub97c \uac00\uc838\uc62c \uc218 \uc788\ub2e4.  \n// \uadf8\ub7f0\uacbd\uc6b0\ub77c\uba74 closest \ub4f1\uc73c\ub85c \ubd80\ubaa8 \uc694\uc18c\ub85c \uc62c\ub77c\uac00\uc57c \ud55c\ub2e4.   \n\nconst btnEl = await screen.findByRole('button', { name: /\ubc84\ud2bc\uba85/ });\nconsole.log('--\x3ebtnEl', prettyDOM(btnEl));\n// \uc0ac\uc6a9\uc790 \uc785\uc7a5\uc5d0\uc11c button\uc744 \uac00\uc838\uc628\ub2e4. \uc774\ub54c \ubc84\ud2bc\uba85\uc744 \uae30\uc900\uc73c\ub85c \uac00\uc838\uc628\ub2e4. \uc124\ub839 \ub2e4\ub978 \ud0dc\uadf8\ub85c \uac10\uc2f8\uc5ec \uc788\ub354\ub77c\ub3c4.  \n\n")),(0,a.kt)("h3",{id:"userevent-async-testing-libraryuser-event"},"userEvent (async) (@testing-library/user-event)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://testing-library.com/docs/dom-testing-library/api-events/"},"https://testing-library.com/docs/dom-testing-library/api-events/")," "),(0,a.kt)("li",{parentName:"ul"},"\uc2e4\uc81c \uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9\uc744 \ub354 \uc798 \uc2dc\ubbac\ub808\uc774\uc158.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import userEvent from '@testing-library/user-event';\n\n//1. userEvent.click\nawait userEvent.click(screen.getByRole('button', { name: /text/ }));\n")),(0,a.kt)("h3",{id:"fireevent-testing-libraryreact"},"fireEvent (@testing-library/react)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"programatic \ud558\uac8c \uc774\ubca4\ud2b8\uc758 \ubaa8\ub4e0 \uc138\ubd80 \uc0ac\ud56d\uc744 \uc9c1\uc811 \uc81c\uc5b4 \uac00\ub2a5  "),(0,a.kt)("li",{parentName:"ul"},"\uc2e4\uc81c \uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9\uacfc \ub2e4\ub97c \uc218 \uc788\uc74c.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { fireEvent } from '@testing-library/react';\nfireEvent(node: HTMLElement, event: Event)\n//1. click\n// <button>Submit</button>\nfireEvent(\n  getByText(container, 'Submit'),\n  new MouseEvent('click', {\n    bubbles: true,\n    cancelable: true,\n  }),\n)\n\n//2. input\nconst inputs = Array.from(app.querySelectorAll('input'));\nfireEvent.change(input, { target: { value: '' } });  \n\n//3. keydown\nfireEvent.keyDown(domNode, {key: 'Enter', code: 'Enter', charCode: 13})\n\n//4. file\nfireEvent.drop(getByLabelText(/drop files here/i), {\n  dataTransfer: {\n    files: [new File(['(\u2310\u25a1_\u25a1)'], 'chucknorris.png', {type: 'image/png'})],\n  },\n})\n")),(0,a.kt)("h3",{id:"jest-dom-matcher"},"Jest (DOM) Matcher"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// array with value check\nexpect([1,2]).toEqual([1,2])\n\n---\nexpect(button).toBeInTheDocument(); \n// DOM Tree\ub0b4\ubd80\uc5d0 \uc788\ub294\uc9c0 \uccb4\ud06c\ud55c\ub2e4.  \nexpect(button).toBeVisible();\n// DOM Tree\ub0b4\ubd80\uc5d0 \uc788\uc73c\uba70, \ud654\uba74\uc5d0 \ubcf4\uc774\ub294\uc9c0 \uccb4\ud06c\ud55c\ub2e4.  \nexpect(button).toBeEmptyDOMElement();\n\nexpect(checkbox).not.toBeChecked();\n// \uccb4\ud06c\ubc15\uc2a4\n\nexpect(button).toHaveAttribute('disabled');\n// https://github.com/testing-library/jest-dom?tab=readme-ov-file#tohaveattribute\n\nexpect(button.closest('li')).toHaveClass('disabled');\n//https://github.com/testing-library/jest-dom?tab=readme-ov-file#tohaveclass\n")),(0,a.kt)("h3",{id:"route-changed-rerender"},"route changed rerender"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"//3.\ud14c\uc2a4\ud2b8 \uc2dc\ub098\ub9ac\uc624 \uc911 \uc0ac\uc6a9\uc790\uc758 \uc561\uc158\uc73c\ub85c \uacbd\ub85c\uac00 \ubc14\ub00c\uc5c8\ub2e4\uba74 \ub9ac\ub79c\ub354\ub9c1 \ud574\uc57c \ud55c\ub2e4.  \n    const history = createMemoryHistory({\n      initialEntries: ['/home-page'],\n    });\n    const { container, rerender } = render(\n      <Router location={history.location} navigator={history}>\n        <App />\n      </Router>\n    );\n\n    const startBtn = await screen.findByRole('button', { name: /text/ });\n    expect(startBtn).toBeInTheDocument;\n    await userEvent.click(startBtn);\n\n    rerender(\n      <Router location={history.location} navigator={history}>\n        <App />\n      </Router>\n    );\n    expect(history.location.pathname).toBe('/next-page');\n")),(0,a.kt)("h3",{id:"waitfor"},"waitFor"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ube44\ub3d9\uae30 \ud568\uc218\ub97c \uae30\ub2e4\ub9ac\ub294\ub370 \uc0ac\uc6a9\ud55c\ub2e4.  ",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"1.DOM \uc5c5\ub370\uc774\ud2b8 useEffect\ub97c \uae30\ub2e4\ub9b4 \uc218 \uc788\ub2e4.  "),(0,a.kt)("li",{parentName:"ul"},"1.Fetch\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \uacbd\uc6b0\ub97c \uae30\ub2e4\ub9b4 \uc218 \uc788\ub2e4.  ")))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"    await waitFor(\n      async () => {\n        const message = await screen.findByText(/text/);\n        expect(message).toBeVisible();\n        // \ubb38\uad6c\uac00 3\ucd08\ub4a4 \uc0ac\ub77c\uc9c4\ub2e4\uba74\n        await new Promise(_ => setTimeout(_, 3000));\n        expect(message).not.toBeVisible();\n      },\n      { timeout: 5000 } // \ucd5c\ub300 5\ucd08\ub9cc \uae30\ub2e4\ub9b0\ub2e4.  \n    );\n")),(0,a.kt)("h2",{id:"trouble-shooting"},"Trouble Shooting"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'1.render \ub97c \uc548\ud558\uace0 screen.debug();\ub97c \ud638\ucd9c\ud558\uba74 body \ud0dc\uadf8\ub9cc \ub098\uc628\ub2e4.  \n\n2.MemoryRouter\uc758 initialEntries \uc5d0 route\ub97c "/path" \ub300\uc2e0 "path" \ub77c\uace0 \uc785\ub825\ud558\uba74 \uc798\ubabb\ub41c \uacbd\ub85c\ub85c \ub4e4\uc5b4\uac04\ub2e4.  \n\n3.getByRole\uc740 \ubc84\ud2bc \ub4f1\uc758 \uc694\uc18c \uadf8 \uc790\uccb4\ub97c \uac00\uc838\uc62c \uc218 \uc788\uc73c\ub098, \ubc84\ud2bc\uc758 \ud14d\uc2a4\ud2b8\ub85c \uc694\uc18c\ub97c \ucc3e\uac8c\ub418\uba74 \ubc84\ud2bc\uc774 \uc544\ub2cc span \ud0dc\uadf8\uac00 \uc62c \uc218 \uc788\ub2e4.  \n\n4.jest \uc124\uc815  \n- jest.config : \ud658\uacbd \uc124\uc815 \n- jest.setip : \ud14c\uc2a4\ud2b8 \ub7f0\ud0c0\uc784 \uc900\ube44 \uc124\uc815  \n\n')),(0,a.kt)("h2",{id:"react-router-dom"},"React Router DOM"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'### \uae30\ubcf8 \uc0ac\uc6a9\ubc95\n\n1. **BrowserRouter**: \uc804\uccb4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uac10\uc2f8\uc11c \ub77c\uc6b0\ud305\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4.\n2. **Route**: \ud2b9\uc815 \uacbd\ub85c\uc5d0 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub9e4\ud551\ud569\ub2c8\ub2e4.\n3. **Link**: \ud398\uc774\uc9c0 \uac04\uc758 \uc774\ub3d9\uc744 \uc704\ud55c \ub9c1\ud06c\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.\n\nimport React from \'react\';\nimport { BrowserRouter as Router, Route, Link, Switch } from \'react-router-dom\';\n\nconst Home = () => <h2>Home</h2>;\nconst About = () => <h2>About</h2>;\nconst Contact = () => <h2>Contact</h2>;\n\nfunction App() {\n  return (\n    <Router>\n      <nav>\n        <ul>\n          <li><Link to="/">Home</Link></li>\n          <li><Link to="/about">About</Link></li>\n          <li><Link to="/contact">Contact</Link></li>\n        </ul>\n      </nav>\n      <Switch>\n        <Route path="/" exact component={Home} />\n        <Route path="/about" component={About} />\n        <Route path="/contact" component={Contact} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n\n\uc8fc\uc694 \uac1c\ub150\n\n- **Router**: \ub77c\uc6b0\ud130 \ucef4\ud3ec\ub10c\ud2b8\ub85c, `BrowserRouter`, `HashRouter`, `MemoryRouter` \ub4f1\uc774 \uc788\uc2b5\ub2c8\ub2e4.\n- **Route**: \uacbd\ub85c\uc640 \ud574\ub2f9 \uacbd\ub85c\uc5d0 \ub80c\ub354\ub9c1\ud560 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc815\uc758\ud569\ub2c8\ub2e4.\n- **Link**: \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub0b4\uc5d0\uc11c \ub9c1\ud06c\ub97c \ub9cc\ub4e4\uc5b4 \ud398\uc774\uc9c0\ub97c \uc774\ub3d9\ud569\ub2c8\ub2e4.\n- **Switch**: \uc5ec\ub7ec \uacbd\ub85c \uc911 \uc77c\uce58\ud558\ub294 \uccab \ubc88\uc9f8 \uacbd\ub85c\ub9cc \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4.\n\n\uc774\ub807\uac8c \uc124\uc815\ud558\uba74 React \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub0b4\uc5d0\uc11c \ub2e4\uc591\ud55c \ud398\uc774\uc9c0\ub97c \uc27d\uac8c \uad00\ub9ac\ud558\uace0 \ub124\ube44\uac8c\uc774\uc158\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n')),(0,a.kt)("p",null,"render \ud568\uc218\uc5d0\uc11c container\ub97c \uac00\ub974\ud0a4\ub294\uac74 DOM \uc774\uc57c? virtualDOM \uc774\uc57c?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ud574\ub2f9 \ucef4\ud3ec\ub10c\ud2b8\ub294 \ube0c\ub77c\uc6b0\uc800 \ud658\uacbd\uc5d0\uc11c\uc640 \ub3d9\uc77c\ud558\uac8c \uc2e4\uc81c DOM\uc5d0 \ub80c\ub354\ub9c1\ub429\ub2c8\ub2e4. ")),(0,a.kt)("p",null,"container\uc5d0\uc11c querySelectorAll\uc744 \ud1b5\ud574\uc11c \uac00\uc838\uc624\ub294\uac70\ub791 \ucc28\uc774\uac00 \uc788\uc5b4?  "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"`container.querySelectorAll`\n- CSS \uc120\ud0dd\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec DOM\uc5d0\uc11c \uc694\uc18c\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.\n- \uc720\uc5f0\ud558\uace0 \uac15\ub825\ud55c \uc120\ud0dd \uba54\ucee4\ub2c8\uc998\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.\n- \ubc18\ud658\ub41c \uc694\uc18c\ub4e4\uc774 \ubc18\ub4dc\uc2dc \ub80c\ub354\ub41c \ud14d\uc2a4\ud2b8\ub97c \ud3ec\ud568\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4.\n\n`getByText`\n- \ud2b9\uc815 \ud14d\uc2a4\ud2b8 \ucf58\ud150\uce20\ub97c \ud3ec\ud568\ud558\ub294 \uc694\uc18c\ub97c \ucc3e\uc2b5\ub2c8\ub2e4.\n- \ud14d\uc2a4\ud2b8 \uae30\ubc18\uc73c\ub85c \uc694\uc18c\ub97c \uc120\ud0dd\ud558\ubbc0\ub85c, \uc0ac\ub78c\uc774 \uc77d\ub294 \ubc29\uc2dd\uacfc \ub354 \uac00\uae5d\uc2b5\ub2c8\ub2e4.\n- React Testing Library\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc811\uadfc\uc131 \uc911\uc2ec\uc758 \ucffc\ub9ac \ubc29\ubc95\uc785\ub2c8\ub2e4.\n\n\ube44\uad50\n- **\uc6a9\ub3c4**: `querySelectorAll`\uc740 \uc77c\ubc18\uc801\uc73c\ub85c DOM \uad6c\uc870\ub97c \ud0d0\uc0c9\ud560 \ub54c \uc720\uc6a9\ud558\uace0,   \n  `getByText`\ub294 \ud14d\uc2a4\ud2b8 \ucf58\ud150\uce20 \uae30\ubc18\uc73c\ub85c \uc694\uc18c\ub97c \ucc3e\uc744 \ub54c \uc720\uc6a9\ud569\ub2c8\ub2e4.  \n- **\uac00\ub3c5\uc131**: `getByText`\ub294 \ud14c\uc2a4\ud2b8\uc758 \uac00\ub3c5\uc131\uc744 \ub192\uc5ec\uc8fc\uba70, \uc811\uadfc\uc131 \uce21\uba74\uc5d0\uc11c \ub354 \uc9c1\uad00\uc801\uc785\ub2c8\ub2e4.  \n- **\uc815\ud655\uc131**: `querySelectorAll`\uc740 CSS \uc120\ud0dd\uc790\uc5d0 \uc758\uc874\ud558\uae30 \ub54c\ubb38\uc5d0 \uad6c\uc870\uc801 \ubcc0\uacbd\uc5d0 \ubbfc\uac10\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.      \n  `getByText`\ub294 \ud14d\uc2a4\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \ud558\ubbc0\ub85c \uad6c\uc870\uc801 \ubcc0\uacbd\uc5d0 \ub35c \ubbfc\uac10\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.  \n")))}m.isMDXComponent=!0}}]);