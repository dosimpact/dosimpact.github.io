"use strict";(self.webpackChunkdosimpact_blog=self.webpackChunkdosimpact_blog||[]).push([[55721],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>u});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=r.createContext({}),f=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},l=function(e){var n=f(e.components);return r.createElement(c.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},_=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=f(t),_=i,u=d["".concat(c,".").concat(_)]||d[_]||p[_]||o;return t?r.createElement(u,a(a({ref:n},l),{},{components:t})):r.createElement(u,a({ref:n},l))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=_;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s[d]="string"==typeof e?e:i,a[1]=s;for(var f=2;f<o;f++)a[f]=t[f];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}_.displayName="MDXCreateElement"},65643:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>f});var r=t(87462),i=(t(67294),t(3905));const o={sidebar_position:1},a="Vite define",s={unversionedId:"g-fe/npm/vite/vite1-define",id:"g-fe/npm/vite/vite1-define",title:"Vite define",description:"define \uc0ac\uc6a9\uc2dc \uc720\uc758 \uc0ac\ud56d",source:"@site/docs/g-fe/8-npm/6-vite/vite1-define.md",sourceDirName:"g-fe/8-npm/6-vite",slug:"/g-fe/npm/vite/vite1-define",permalink:"/docs/g-fe/npm/vite/vite1-define",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/g-fe/8-npm/6-vite/vite1-define.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"frontEnd",previous:{title:"Vite",permalink:"/docs/category/vite"},next:{title:"9.Utils",permalink:"/docs/category/9utils"}},c={},f=[{value:"define \uc0ac\uc6a9\uc2dc \uc720\uc758 \uc0ac\ud56d",id:"define-\uc0ac\uc6a9\uc2dc-\uc720\uc758-\uc0ac\ud56d",level:2},{value:"define \ucc98\ub9ac \ucf54\ub4dc",id:"define-\ucc98\ub9ac-\ucf54\ub4dc",level:2}],l={toc:f},d="wrapper";function p(e){let{components:n,...t}=e;return(0,i.kt)(d,(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"vite-define"},"Vite define"),(0,i.kt)("h2",{id:"define-\uc0ac\uc6a9\uc2dc-\uc720\uc758-\uc0ac\ud56d"},"define \uc0ac\uc6a9\uc2dc \uc720\uc758 \uc0ac\ud56d"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'import { defineConfig } from \'vite\'\nimport react from \'@vitejs/plugin-react\'\n\n// https://vite.dev/config/\n// define \uc0ac\uc6a9\ubc95\n// 1. dev\ud658\uacbd  = define\uc5d0 \uc815\uc758\ub41c \ubcc0\uc218\ub294 window \uc804\uc5ed\uac1d\uccb4\uc5d0 \ub4e4\uc5b4\uac04\ub2e4.\n// 2. prod\ud658\uacbd = define\uc5d0 \uc815\uc758\ub41c \ubcc0\uc218\ub294 build-time\uc5d0 \uce58\ud658\ub41c\ub2e4.\n// *\uce58\ud658\ub420\ub54c \ubb38\uc790\uc5f4\uc740 \ubb38\uc790\uc5f4\uc744 \ubc97\uace0 \uadf8\ub300\ub85c \ub4e4\uc5b4\uac04\ub2e4. ( JSON.stringify, \'\'\uc73c\ub85c \ud55c\ubc88\ub354 \uac10\uc2fc\ub2e4.)   \nexport default defineConfig({\n  plugins: [react()],\n  define: {\n    // case1 - \ubb38\uc790\uc5f4   \n    // ENV:"ENV_LOCAL" // \u274c  const defines = { "ENV": ENV_LOCAL }; ENV_LOCAL\ub77c\ub294 \ubcc0\uc218\ub294 \uc5c6\uc5b4\uc11c \uc624\ub958\n    ENV:JSON.stringify("ENV_LOCAL"), // \u2705 \ubb38\uc790\uc5f4\ub85c \ud55c\ubc88 \ubc97\uaca8\uc11c \ub4e4\uc5b4\uac04\ub2e4. \n    // ENVENV:\'"ENV_LOCAL"\', // \u2705 \ubb38\uc790\uc5f4\ub85c \ud55c\ubc88 \ubc97\uaca8\uc11c \ub4e4\uc5b4\uac00\uc11c string\uc774 \uc798 \ub4e4\uc5b4\uac04\ub2e4.  \n    // \uacb0\uacfc const defines = { "ENV": "ENV_LOCAL" };\n\n    // case1.1 - \ubb38\uc790\uc5f4   \n    // __APP_VERSION__: \'v1.0.0\', // \u274c \ubb38\uc790\uc5f4\ub85c \uc815\uc758\n    // const defines = {"__APP_VERSION__": v1.0.0 }; // \uc2e4\uc81c \ub4e4\uc5b4\uac04\uac83\uc740 v1\uac1d\uccb4\uac00 \ub4e4\uc5b4\uac04 \ucf54\ub4dc \ud615\ud0dc \n    __APP_VERSION__: JSON.stringify(\'v1.0.0\'), // \u2705\n    // const defines = {"__APP_VERSION__": "v1.0.0" }; // \uc2e4\uc81c \ub4e4\uc5b4\uac04\uac83\uc740 \ubb38\uc790\uc5f4\n\n    // case1.2 - \ubb38\uc790\uc5f4 \ub123\uae30  \n    __API_URL__: \'window.__backend_api_url\', // \u2705\n    // const defines = { "__API_URL__": window.__backend_api_url };\n\n    //case2.\uc22b\uc790\n    // \uc22b\uc790\ub294 \ubcc4\ub3c4\uc758 \ucc98\ub9ac\uac00 \ud544\uc694\uc5c6\ub2e4.\n    __APP_NUMBER__: 3,\n\n    // case3 - object   \n    // \uac1d\uccb4\uc758 \uacbd\uc6b0\uc5d0\ub294 JSON.stringify\ub97c \uc0ac\uc6a9\uc548\ud574\ub3c4 \ub41c\ub2e4.\n    TEST_OBJ:{ // \n      NAME:"alice",\n    },\n    TEST_OBJ_2:JSON.stringify({ // ok \n      NAME:"banana",\n    }),\n    TEST_OBJ_3:{\n      NAME:\'"apple"\', // \u274c \n    },\n\n    // case3.1 nested object\n    \'process.env\': {\n      PROFILE:"local",   // \u2705\n      ENV:\'"ENV_LOCAL"\', // \u274c \n    },\n    // const defines = { "process.env": { "PROFILE": "local" } };\n    // TEST:"ENV_LOCAL"\n  },\n})\n\n')),(0,i.kt)("h2",{id:"define-\ucc98\ub9ac-\ucf54\ub4dc"},"define \ucc98\ub9ac \ucf54\ub4dc"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'const context = ( () => {\n    if (typeof globalThis !== "undefined") {\n        return globalThis;\n    } else if (typeof self !== "undefined") {\n        return self;\n    } else if (typeof window !== "undefined") {\n        return window;\n    } else {\n        return Function("return this")();\n    }\n}\n)();\nconst defines = {\n    "ENV": "ENV_LOCAL",\n    "TEST_OBJ": {\n        "NAME": "alice"\n    },\n    "TEST_OBJ_2": {\n        "NAME": "banana"\n    },\n    "TEST_OBJ_3": {\n        "NAME": "\\"apple\\""\n    },\n    "__API_URL__": window.__backend_api_url,\n    "__APP_NUMBER__": 3,\n    "__APP_VERSION__": "v1.0.0",\n    "process.env": {\n        "PROFILE": "local",\n        "ENV": "\\"ENV_LOCAL\\""\n    }\n};\nObject.keys(defines).forEach( (key) => {\n    const segments = key.split(".");\n    let target = context;\n    for (let i = 0; i < segments.length; i++) {\n        const segment = segments[i];\n        if (i === segments.length - 1) {\n            target[segment] = defines[key];\n        } else {\n            target = target[segment] || (target[segment] = {});\n        }\n    }\n}\n);\n\n')))}p.isMDXComponent=!0}}]);